<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Admin Direct - DirAvenir</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border: 1px solid #c3e6cb;
        }
        .info {
            background: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border: 1px solid #bee5eb;
        }
        .button {
            background: #4A1F5A;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px 5px;
            text-decoration: none;
            display: inline-block;
        }
        .button:hover {
            background: #6B2C7B;
        }
        .admin-button {
            background: #FDCB00;
            color: #4A1F5A;
        }
        .admin-button:hover {
            background: #E6B800;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ°Ô∏è Test Admin Direct - DirAvenir</h1>
        
        <div class="success">
            <h3>‚úÖ Modifications effectu√©es :</h3>
            <ul>
                <li>‚úÖ AuthContext modifi√© pour inclure <code>loginAsAdmin()</code></li>
                <li>‚úÖ GlobalNavbar modifi√© pour utiliser un bouton admin au lieu d'un lien</li>
                <li>‚úÖ ProtectedRoute modifi√© pour permettre l'acc√®s admin sans authentification</li>
                <li>‚úÖ Styles CSS mis √† jour pour les boutons admin</li>
            </ul>
        </div>

        <div class="info">
            <h3>‚ÑπÔ∏è Comment tester :</h3>
            <ol>
                <li>Ouvrez l'application DirAvenir</li>
                <li>Cliquez sur le bouton "üõ°Ô∏è Admin" dans la navbar</li>
                <li>Vous devriez √™tre connect√© automatiquement en tant qu'admin</li>
                <li>Vous devriez √™tre redirig√© vers la page admin</li>
            </ol>
        </div>

        <div class="info">
            <h3>üîß Fonctionnalit√©s ajout√©es :</h3>
            <ul>
                <li><strong>Connexion admin directe :</strong> Plus besoin de s'authentifier</li>
                <li><strong>Bouton navbar :</strong> Le bouton "üõ°Ô∏è Admin" d√©clenche la connexion automatique</li>
                <li><strong>Admin temporaire :</strong> Cr√©ation automatique d'un profil admin temporaire</li>
                <li><strong>Bypass s√©curit√© :</strong> Les routes admin sont accessibles sans authentification</li>
            </ul>
        </div>

        <div style="text-align: center; margin-top: 30px;">
            <a href="/" class="button">üè† Retour √† l'accueil</a>
            <a href="/admin" class="button admin-button">üõ°Ô∏è Aller √† l'admin</a>
        </div>

        <div class="info" style="margin-top: 30px;">
            <h3>üìù Code modifi√© :</h3>
            <p><strong>AuthContext.jsx :</strong> Ajout de la fonction <code>loginAsAdmin()</code></p>
            <p><strong>GlobalNavbar.jsx :</strong> Le bouton admin utilise maintenant <code>onClick</code> au lieu d'un lien</p>
            <p><strong>ProtectedRoute.jsx :</strong> <code>AdminRoute</code> permet l'acc√®s sans authentification</p>
            <p><strong>Navbar.css :</strong> Styles ajout√©s pour les boutons dans la navigation</p>
        </div>
    </div>

    <script>
        console.log('üõ°Ô∏è Test Admin Direct - Page charg√©e');
        
        // V√©rifier si on peut acc√©der √† l'admin
        function testAdminAccess() {
            console.log('üß™ Test d\'acc√®s admin...');
            
            // Simuler la connexion admin
            const adminUser = {
                id: 'admin-test',
                email: 'admin@diravenir.com',
                name: 'Admin Test',
                role: 'ADMIN'
            };
            
            localStorage.setItem('tempAdmin', JSON.stringify(adminUser));
            console.log('‚úÖ Admin temporaire cr√©√©:', adminUser);
            
            // Rediriger vers l'admin
            window.location.href = '/admin';
        }
        
        // Ajouter un bouton de test
        document.addEventListener('DOMContentLoaded', function() {
            const testButton = document.createElement('button');
            testButton.textContent = 'üß™ Tester la connexion admin';
            testButton.className = 'button admin-button';
            testButton.onclick = testAdminAccess;
            
            const container = document.querySelector('.container');
            const lastDiv = container.querySelector('div:last-child');
            lastDiv.appendChild(testButton);
        });
    </script>
</body>
</html>
